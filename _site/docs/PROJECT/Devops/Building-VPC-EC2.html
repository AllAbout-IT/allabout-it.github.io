<!DOCTYPE html><html lang="en-US"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <script src="/assets/js/vendor/lunr.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mermaid@9.1.6/dist/mermaid.min.js"></script> <script src="/assets/js/just-the-docs.js"></script><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.ico" type="image/x-icon"><title>2.Building VPC, EC2 in AWS | AllAbout-IT</title><meta name="generator" content="Jekyll v4.3.2" /><meta property="og:title" content="2.Building VPC, EC2 in AWS" /><meta property="og:locale" content="en_US" /><meta name="description" content="AllAbout-IT’s Portfolio Vlog" /><meta property="og:description" content="AllAbout-IT’s Portfolio Vlog" /><link rel="canonical" href="http://localhost:4000/docs/PROJECT/Devops/Building-VPC-EC2" /><meta property="og:url" content="http://localhost:4000/docs/PROJECT/Devops/Building-VPC-EC2" /><meta property="og:site_name" content="AllAbout-IT" /><meta property="og:type" content="website" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="2.Building VPC, EC2 in AWS" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"AllAbout-IT’s Portfolio Vlog","headline":"2.Building VPC, EC2 in AWS","url":"http://localhost:4000/docs/PROJECT/Devops/Building-VPC-EC2"}</script><body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"><title>Link</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"><title>Menu</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"><title>Expand</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"><title id="svg-external-link-title">(external link)</title><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"><title>Document</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"><title>Search</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-copy" viewBox="0 0 16 16"><title>Copy</title><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"><path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/><path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"><title>Copied</title><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"><path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/><path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg><div class="side-bar"><div class="site-header"> <a href="/" class="site-title lh-tight"> AllAbout-IT </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a></div><nav aria-label="Main" id="site-nav" class="site-nav"><ul class="nav-list"><li class="nav-list-item active"><a href="#" class="nav-list-expander" aria-label="toggle links in PROJECT category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/docs/PROJECT" class="nav-list-link">PROJECT</a><ul class="nav-list"><li class="nav-list-item active"><a href="#" class="nav-list-expander" aria-label="toggle links in 1.Architecture AWS with Terraform for Automating category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/docs/PROJECT/Devops/Devops/" class="nav-list-link">1.Architecture AWS with Terraform for Automating</a><ul class="nav-list"><li class="nav-list-item "> <a href="/docs/PROJECT/Devops/Overview" class="nav-list-link">1.Overview</a><li class="nav-list-item active"> <a href="/docs/PROJECT/Devops/Building-VPC-EC2" class="nav-list-link active">2.Building VPC, EC2 in AWS</a></ul><li class="nav-list-item "><a href="#" class="nav-list-expander" aria-label="toggle links in VMware Architecture include ESXi, Network, Starage within vCenter category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/docs/PROJECT/VMWARE/Devops/" class="nav-list-link">VMware Architecture include ESXi, Network, Starage within vCenter</a><ul class="nav-list"></ul><li class="nav-list-item "><a href="#" class="nav-list-expander" aria-label="toggle links in 2.Architecture AWS with EKS category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/docs/PROJECT/AWS-EKS/AWS-EKS/" class="nav-list-link">2.Architecture AWS with EKS</a><ul class="nav-list"><li class="nav-list-item "> <a href="/docs/PROJECT/AWS-EKS/Overview" class="nav-list-link">1.Overview</a></ul></ul><li class="nav-list-item"><a href="/" class="nav-list-link">AllAbout-IT</a><li class="nav-list-item"><a href="#" class="nav-list-expander" aria-label="toggle links in WINDOWS category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/docs/WINDOWS" class="nav-list-link">WINDOWS</a><ul class="nav-list"><li class="nav-list-item "><a href="/docs/WINDOWS/LAB_DHCP/LAB_DHCP/" class="nav-list-link">LAB_Build DHCP</a><li class="nav-list-item "><a href="/docs/WINDOWS/LAB_WEB_FTP_DNS_DHCP/LAB_WEB_FTP_DNS_DHCP/" class="nav-list-link">LAB_Build WEB, FTP, DNS, DHCP</a><li class="nav-list-item "><a href="/docs/WINDOWS/Configuration_IP_in_Windows_OS/Configuration_IP_in_Windows_OS/" class="nav-list-link">Configuration IP in Windows OS</a><li class="nav-list-item "><a href="/docs/WINDOWS/How_to_change_your_computers_name/How_to_change_your_computers_name/" class="nav-list-link">How to change computer's name in Windows OS</a><li class="nav-list-item "><a href="/docs/WINDOWS/File-Server/File-Server-105/" class="nav-list-link">File Server in WINDOWS</a><li class="nav-list-item "><a href="/docs/WINDOWS/RAID/RAID-106/" class="nav-list-link">RAID</a></ul><li class="nav-list-item"><a href="#" class="nav-list-expander" aria-label="toggle links in NETWORK category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/docs/NETWORK" class="nav-list-link">NETWORK</a><ul class="nav-list"><li class="nav-list-item "><a href="#" class="nav-list-expander" aria-label="toggle links in LAB category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/docs/NETWORK/" class="nav-list-link">LAB</a><ul class="nav-list"><li class="nav-list-item "> <a href="/docs/NETWORK/LAB/Assignment_01/" class="nav-list-link">Assignment_01</a></ul></ul><li class="nav-list-item"><a href="#" class="nav-list-expander" aria-label="toggle links in VMware category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/docs/VMware" class="nav-list-link">VMware</a><ul class="nav-list"><li class="nav-list-item "><a href="/docs/NETWORK/BGP" class="nav-list-link">BGP</a><li class="nav-list-item "><a href="/docs/VMware/Cluster" class="nav-list-link">Cluster</a><li class="nav-list-item "><a href="/docs/VMware/Installation%20vCenter" class="nav-list-link">LAB Installation vCenter</a><li class="nav-list-item "><a href="/docs/VMware/LAB-1" class="nav-list-link">LAB-1. Installation and configuration</a><li class="nav-list-item "><a href="/docs/VMware/Migration" class="nav-list-link">Mgration in vCenter</a><li class="nav-list-item "><a href="/docs/VMware/Storage" class="nav-list-link">Storage in VMware</a><li class="nav-list-item "><a href="/docs/VMware/Virtualization" class="nav-list-link">Virtualization</a><li class="nav-list-item "><a href="/docs/VMware/vDS" class="nav-list-link">Virtualization Distribute Switch(vDS)</a><li class="nav-list-item "><a href="/docs/VMware/vSphare_DRS" class="nav-list-link">vSphere DRS</a></ul><li class="nav-list-item"><a href="#" class="nav-list-expander" aria-label="toggle links in AWS category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/docs/AWS/" class="nav-list-link">AWS</a><ul class="nav-list"><li class="nav-list-item "><a href="/docs/AWS/Assigment_03/Assignment_03/" class="nav-list-link">Assignment_03</a><li class="nav-list-item "><a href="/docs/AWS/" class="nav-list-link">What is VPC in AWS?</a></ul><li class="nav-list-item"><a href="#" class="nav-list-expander" aria-label="toggle links in GCP category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/docs/GCP" class="nav-list-link">GCP</a><ul class="nav-list"></ul><li class="nav-list-item"><a href="#" class="nav-list-expander" aria-label="toggle links in DOCKER category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/docs/DOCKER" class="nav-list-link">DOCKER</a><ul class="nav-list"><li class="nav-list-item "><a href="#" class="nav-list-expander" aria-label="toggle links in 1. What is Docker category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/docs/DOCKER/1.WhatisDocker/WhatisDocker/" class="nav-list-link">1. What is Docker</a><ul class="nav-list"></ul><li class="nav-list-item "><a href="#" class="nav-list-expander" aria-label="toggle links in 2. MA(Monolithic Archtecture) vs MSA(Micro Service Archtecture) category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/docs/DOCKER/2.MA-vs-MVA/MA-vs-MVA/" class="nav-list-link">2. MA(Monolithic Archtecture) vs MSA(Micro Service Archtecture)</a><ul class="nav-list"></ul><li class="nav-list-item "><a href="#" class="nav-list-expander" aria-label="toggle links in Install Docker Engine on Ubuntu category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/docs/DOCKER/3.Install-0n-Linux/install-on-Linux/" class="nav-list-link">Install Docker Engine on Ubuntu</a><ul class="nav-list"></ul><li class="nav-list-item "><a href="#" class="nav-list-expander" aria-label="toggle links in 4. Building Container category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/docs/DOCKER/4.Building-Container/Buiding-Container/" class="nav-list-link">4. Building Container</a><ul class="nav-list"></ul><li class="nav-list-item "><a href="#" class="nav-list-expander" aria-label="toggle links in 5. Using Container category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/docs/DOCKER/5.Using-Container/Using-Container/" class="nav-list-link">5. Using Container</a><ul class="nav-list"></ul><li class="nav-list-item "><a href="#" class="nav-list-expander" aria-label="toggle links in 6.Container Network category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/docs/DOCKER/6.ContainerNetwork/ContainerNetwork/" class="nav-list-link">6.Container Network</a><ul class="nav-list"></ul><li class="nav-list-item "><a href="#" class="nav-list-expander" aria-label="toggle links in 7. Container Network LAB category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/docs/DOCKER/7.ContainerNetworkLab/ContainerNetworkLab/" class="nav-list-link">7. Container Network LAB</a><ul class="nav-list"></ul></ul><li class="nav-list-item"><a href="#" class="nav-list-expander" aria-label="toggle links in KUBERNETES category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/docs/DOCKER" class="nav-list-link">KUBERNETES</a><ul class="nav-list"><li class="nav-list-item "><a href="#" class="nav-list-expander" aria-label="toggle links in 1. Kubernetes & Docker & Container category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/docs/KUBERNETES/1.Kubernetes/Kubernetes&Docker&Container/" class="nav-list-link">1. Kubernetes & Docker & Container</a><ul class="nav-list"></ul><li class="nav-list-item "><a href="#" class="nav-list-expander" aria-label="toggle links in 3. LAB-1 Install K8E Master-node and Worker-node category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/docs/KUBERNETES/2.LAB1-Install-K8E-Master-Worker/Lab1-Install-K8E-Master-Worker/" class="nav-list-link">3. LAB-1 Install K8E Master-node and Worker-node</a><ul class="nav-list"></ul><li class="nav-list-item "><a href="#" class="nav-list-expander" aria-label="toggle links in 3. LAB-2 Reset Worker-node and rejoining category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/docs/KUBERNETES/3.LAB-2-rejoining/3.LAB-2/" class="nav-list-link">3. LAB-2 Reset Worker-node and rejoining</a><ul class="nav-list"></ul><li class="nav-list-item "><a href="#" class="nav-list-expander" aria-label="toggle links in 4. Kubernetes-Architecture category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/docs/KUBERNETES/4.Kubernetes-Architecture/4.Kubernates-Architecture/" class="nav-list-link">4. Kubernetes-Architecture</a><ul class="nav-list"></ul><li class="nav-list-item "><a href="#" class="nav-list-expander" aria-label="toggle links in 6. LAB-4 Namespace category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/docs/KUBERNETES/6.LAB-4-namespace/6.LAB-4/" class="nav-list-link">6. LAB-4 Namespace</a><ul class="nav-list"></ul><li class="nav-list-item "><a href="#" class="nav-list-expander" aria-label="toggle links in 5. LAB-3 Kubectl category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/docs/KUBERNETES/5.LAB-3-Kubectl/5.LAB-3/" class="nav-list-link">5. LAB-3 Kubectl</a><ul class="nav-list"></ul></ul><li class="nav-list-item"><a href="#" class="nav-list-expander" aria-label="toggle links in LINUX category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/docs/LINUX" class="nav-list-link">LINUX</a><ul class="nav-list"><li class="nav-list-item "><a href="#" class="nav-list-expander" aria-label="toggle links in Installation Ubuntu in VMware category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/docs/LINUX/Installation%20Ununtu/WhatisDocker/" class="nav-list-link">Installation Ubuntu in VMware</a><ul class="nav-list"></ul><li class="nav-list-item "><a href="/docs/LINUX/Basic_Command/Basic%20Commans/" class="nav-list-link">01_Basic Commands</a></ul><li class="nav-list-item"><a href="#" class="nav-list-expander" aria-label="toggle links in 정보처리기사 category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/docs/%EC%A0%95%EB%B3%B4%EC%B2%98%EB%A6%AC%EA%B8%B0%EC%82%AC/%EC%A0%95%EB%B3%B4%EC%B2%98%EB%A6%AC%EA%B8%B0%EC%82%AC/" class="nav-list-link">정보처리기사</a><ul class="nav-list"></ul></ul><ul class="nav-list"><li class="nav-list-item external"> <a href="https://github.com/just-the-docs/just-the-docs" class="nav-list-link external"> Just the Docs on GitHub <svg viewBox="0 0 24 24" aria-labelledby="svg-external-link-title"><use xlink:href="#svg-external-link"></use></svg> </a></ul></nav><footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.</footer></div><div class="main" id="top"><div id="main-header" class="main-header"><div class="search"><div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search AllAbout-IT" aria-label="Search AllAbout-IT" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label></div><div id="search-results" class="search-results"></div></div><nav aria-label="Auxiliary" class="aux-nav"><ul class="aux-nav-list"><li class="aux-nav-list-item"> <a href="//github.com/just-the-docs/just-the-docs" class="site-button" > Just the Docs on GitHub </a></ul></nav></div><div id="main-content-wrap" class="main-content-wrap"><nav aria-label="Breadcrumb" class="breadcrumb-nav"><ol class="breadcrumb-nav-list"><li class="breadcrumb-nav-list-item"><a href="/docs/PROJECT">PROJECT</a><li class="breadcrumb-nav-list-item"><a href="/docs/PROJECT/Devops/Devops/">1.Architecture AWS with Terraform for Automating</a><li class="breadcrumb-nav-list-item"><span>2.Building VPC, EC2 in AWS</span></ol></nav><div id="main-content" class="main-content" role="main"><h1 class="no_toc" id="building-vpc-ec2-on-console-in-aws"> <a href="#building-vpc-ec2-on-console-in-aws" class="anchor-heading" aria-labelledby="building-vpc-ec2-on-console-in-aws"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Building VPC, EC2 on Console in AWS</h1><p><img src="/docs/PROJECT/Devops/Overview/1.png" alt="1" /></p><details open=""> <summary class="text-delta"> Table of contents </summary><ol id="markdown-toc"><li><a href="#region" id="markdown-toc-region">Region</a><li><a href="#vpc" id="markdown-toc-vpc">VPC</a><ol><li><a href="#overview" id="markdown-toc-overview">Overview</a><li><a href="#vpcs" id="markdown-toc-vpcs">VPCs</a><li><a href="#subnets" id="markdown-toc-subnets">Subnets</a><li><a href="#internet-gateway" id="markdown-toc-internet-gateway">Internet Gateway</a><li><a href="#nat-gateway" id="markdown-toc-nat-gateway">Nat Gateway</a><li><a href="#route-table" id="markdown-toc-route-table">Route Table</a></ol><li><a href="#ec2" id="markdown-toc-ec2">EC2</a><ol><li><a href="#instance" id="markdown-toc-instance">Instance</a><li><a href="#installing-gitlab-to-instance" id="markdown-toc-installing-gitlab-to-instance">Installing Gitlab to Instance</a><li><a href="#amis" id="markdown-toc-amis">AMIs</a></ol></ol></details><hr /><h2 id="region"> <a href="#region" class="anchor-heading" aria-labelledby="region"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Region</h2><ol><li><p>click national name text right and top of the window<br /> <img src="/docs/PROJECT/Devops/Building-VPC-EC2/3.png" alt="3" /></p><li><p>Select Region name on the list(Ex&gt; Asia Paciffic(Seoul) ap-northeast-2)<br /> <img src="/docs/PROJECT/Devops/Building-VPC-EC2/4.png" alt="4" /></p></ol><h2 id="vpc"> <a href="#vpc" class="anchor-heading" aria-labelledby="vpc"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> VPC</h2><h3 id="overview"> <a href="#overview" class="anchor-heading" aria-labelledby="overview"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Overview</h3><p>This topology’s concept is HA(high-available). VPC was built as 10.10.0.0/24 on the ap-northeast-2(Seoul) region. And it was divided from 10.10.10.0/24 to 10.10.40.0/24 into 4 subnets. 2 subnets(10.10.10.0, 10.10.20.0) was selected to ‘ap-northeast-2a’ and ‘ap-northeast-2c’ each other as the public subnet. Also, the other 2 subnets were selected to ‘ap-northeast-2a’ and ‘ap-northeast-2c’ each other as the private subnet. the public route includes 2 public subnets with an internet gateway. the private route includes 2 private with a nat gateway.</p><h3 id="vpcs"> <a href="#vpcs" class="anchor-heading" aria-labelledby="vpcs"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> VPCs</h3><ol><li><p>Type ‘VPC’ in Serach blank box. and click ‘VPC’ on the list.<br /> <img src="/docs/PROJECT/Devops/Building-VPC-EC2/2-1.png" alt="2-1" /></p><li><p>Your VPCs &gt; Create VPC <img src="/docs/PROJECT/Devops/Building-VPC-EC2/2-2.png" alt="2-2" /></p><li><p>Select ‘VPC only’ under ‘Resources to create’ and put VPC’s name you want into blank box under ‘Name tag’(ex&gt; dev-pj-vpc) <img src="/docs/PROJECT/Devops/Building-VPC-EC2/2-3.png" alt="2-3" /></p><li><p>Put IPv4 CIDR as B Class into blank box under ‘IPv4 CIDR’ and let rest of options as defualt, click ‘Creat VPC’ after done. <img src="/docs/PROJECT/Devops/Building-VPC-EC2/5.png" alt="2-4" /></p><li><p>Check VPC’s name, status, IPv4 CIDR you made on the VPCs list. <img src="/docs/PROJECT/Devops/Building-VPC-EC2/6.png" alt="6" /></p></ol><h3 id="subnets"> <a href="#subnets" class="anchor-heading" aria-labelledby="subnets"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Subnets</h3><ol><li><p>Click ‘Creat subnet’ after clicking ‘Subnets’ on the VPC’s sidebar. <img src="/docs/PROJECT/Devops/Building-VPC-EC2/7.png" alt="7" /></p><li><p>Select VPC you made before by selecting the box under ‘VPC ID’. <img src="/docs/PROJECT/Devops/Building-VPC-EC2/8.png" alt="8" /></p><li><p>Put the subnet name you want into the blank box under the Subnet name; for example, dev-pub-a-sub. <img src="/docs/PROJECT/Devops/Building-VPC-EC2/9.png" alt="9" /></p><li><p>Select the Availability zone where this subnet will reside within the region you selected; for example, ap-northeast-2.<br /> <img src="/docs/PROJECT/Devops/Building-VPC-EC2/10.png" alt="10" /></p><li><p>Put the subnet’s IPv4 CIDR block into blank box under ‘IPv4 CIDR block’. block sizes must be between a /16 netmask and /28 netmask; for example, 10.0.0.0/24.<br /> <img src="/docs/PROJECT/Devops/Building-VPC-EC2/11.png" alt="11" /></p><li><p>Click ‘Add new subnet’ after done.</p><li><p>Make 3 more subnets following below the list as needed from this project.</p><div class="table-wrapper"><table><thead><tr><th style="text-align: left">Subnet name<th style="text-align: left">Availabilty zone<th style="text-align: left">IPv4 CIDR<tbody><tr><td style="text-align: left">dev-pub-c-sub<td style="text-align: left">ap-northeast-2c<td style="text-align: left">10.10.20.0/24<tr><td style="text-align: left">dev-pri-a-sub<td style="text-align: left">ap-northeast-2a<td style="text-align: left">10.10.30.0/24<tr><td style="text-align: left">dev-pri-c-sub<td style="text-align: left">ap-northeast-2c<td style="text-align: left">10.10.40.0/24</table></div><p></p><li><p>Click ‘Create subnet’ after done.</p><li><p>Check system message at top of window and Subnets information(Name, Status, IPv4 CIDR)you made on the list.<br /> <img src="/docs/PROJECT/Devops/Building-VPC-EC2/13.png" alt="13" /></p></ol><h3 id="internet-gateway"> <a href="#internet-gateway" class="anchor-heading" aria-labelledby="internet-gateway"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Internet Gateway</h3><p>- An internet gateway is a VPC component that enables communication between your VPC and the internet. To use an internet gateway, attach it to your VPC and specify it as a target in your subnet route table.</p><ol><li><p>Click ‘Creat internet gateway’ in the internat gateway section after clicking ‘Internet gateways on ther VPS’s left sidebar<br /> <img src="/docs/PROJECT/Devops/Building-VPC-EC2/20.png" alt="20" /></p><li><p>Put internet gateway name into blank box under ‘Name tag’;for example, dev-igw. and click ‘create internet gateway’. <img src="/docs/PROJECT/Devops/Building-VPC-EC2/21.png" alt="21" /></p><li><p>Check the message ‘The following internet gateway was created [internet gateway ID, name] you can now attach to a VPC to enable the VPC to communicate withe internet.’ on the top of the window. so, click ‘Attach to a VPC’ on the right of message.<br /> <img src="/docs/PROJECT/Devops/Building-VPC-EC2/22.png" alt="22" /></p><li><p>Select VPC you made just before on the box under ‘Available VPCs’ in ‘Atttach to VPC section’ and click ‘Attach Internet gateway’.<br /> <img src="/docs/PROJECT/Devops/Building-VPC-EC2/23.png" alt="23" /></p><li><p>Check the message ‘Internet gateway [internet gateway ID] successfully attached to [VPC ID] on the top of the window.<br /> <img src="/docs/PROJECT/Devops/Building-VPC-EC2/24.png" alt="24" /></p></ol><h3 id="nat-gateway"> <a href="#nat-gateway" class="anchor-heading" aria-labelledby="nat-gateway"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Nat Gateway</h3><p>You can use a network address translation (NAT) gateway to enable instances in a private subnet to connect to services outside your VPC but prevent such external services from initiating a connection with those instances.</p><p>A public NAT gateway enables instances in private subnets to connect to the internet but prevents them from receiving unsolicited inbound connections from the internet. You should associate an elastic IP address with a public NAT gateway and attach an internet gateway to the VPC containing it.</p><ol><li><p>Click ‘Create NAT gateway’ in ‘NAT gateways’ section after clicking ‘NAT gateways’ on the VPC’s sidebar.<br /> <img src="/docs/PROJECT/Devops/Building-VPC-EC2/25.png" alt="25" /></p><li><p>Put NAT gateway name into blank box under ‘Name - optional’;for example, dev-ngw.<br /> <img src="/docs/PROJECT/Devops/Building-VPC-EC2/26.png" alt="26" /></p><li><p>As you know, NAT gateway have to communicate with out side internet. so, It should be created on public subnet and get public IPv4 address. for this reason, select one of public subnet in the selecting box under ‘Subnet’. <img src="/docs/PROJECT/Devops/Building-VPC-EC2/27.png" alt="27" /></p><li><p>Select ‘Public’ in 2 options under ‘Connectivity’ couse you can recive ‘Elastic’ IP only when you select ‘Public’. and click ‘Allocate Elastic IP’ after done. <img src="/docs/PROJECT/Devops/Building-VPC-EC2/28.png" alt="28" /></p><li><p>Check the message ‘Elastic IP address <a href="Elastic IP's ID">xxx.xxx.xxx.xxx</a> on the top of the window. and check ‘Elastic IP allocation ID’ that was allocated middle of window.<br /> <img src="/docs/PROJECT/Devops/Building-VPC-EC2/29.png" alt="29" /></p><li><p>Click ‘Create NAT gateway’ after done. <img src="/docs/PROJECT/Devops/Building-VPC-EC2/30.png" alt="30" /></p><li><p>Check the message ‘NAT gateway [NAT gateway ID]|[NAT gateway name] was create successfully on the top of the window. and check details information. Make sure keep seeing state until it turn from pedding to available and then, check ‘Primary public IPv4 address’, ‘Primary private IPv4 address’.<br /> <img src="/docs/PROJECT/Devops/Building-VPC-EC2/31.png" alt="31" /></p></ol><h3 id="route-table"> <a href="#route-table" class="anchor-heading" aria-labelledby="route-table"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Route Table</h3><p>A route table refers to a table that consists of a set of rules, called routes, that are used to determine where network traffic is directed. In AWS, each subnet in a Virtual Private Cloud (VPC) is associated with a route table, which controls the traffic routing for the subnet. The routes in a route table determine where traffic is directed, either to an Internet gateway, virtual private gateway, Elastic IP address, a VPC endpoint, or another VPC in the same account.</p><p>Each VPC has a default route table that controls the traffic routing for all of its subnets. In addition to the default route table, you can create additional custom route tables, which can be associated with one or more subnets in your VPC. This allows you to specify different routing rules for different subnets in your VPC.</p><ol><li><p>Click ‘Create route table’ on the route tables section after clicking ‘Route tables’ on the VPS left sidebar.<br /> <img src="/docs/PROJECT/Devops/Building-VPC-EC2/14.png" alt="14" /></p><li><p>Make sure, It needs 2 different route tables in this project. one is a public route table that can communicate with the Internet, and one other is a private route table that It can’t communicate from outside the internet.</p><li><p>First of all, put ‘route table’s name’ for the public route table’s name into the blank box under ‘name - optional’; for example, dev-pub-rt.<br /> <img src="/docs/PROJECT/Devops/Building-VPC-EC2/15.png" alt="15" /></p><li><p>Select the VPC you made just before on the box under ‘VPC’. <img src="/docs/PROJECT/Devops/Building-VPC-EC2/16.png" alt="16" /></p><li><p>Click ‘Create route table’ after letting ‘Tags’ as default.<br /> <img src="/docs/PROJECT/Devops/Building-VPC-EC2/17.png" alt="17" /></p><li><p>Click ‘Edit routes’ under the detail tab ‘Routes’ after checking the message ‘Route table [route table ID]|[route table name] was created successfully’. <img src="/docs/PROJECT/Devops/Building-VPC-EC2/18.png" alt="18" /></p><li><p>Click ‘Add route’ on the left down at the Edit route section to add rule in this route table.<br /> <img src="/docs/PROJECT/Devops/Building-VPC-EC2/32.png" alt="32" /></p><li><p>At New ‘Edit routes’ was expaneded from ‘Edit routes’, put 0.0.0.0/0 into into blank box under destination. that means ‘the target IP or IP range requested from this route table’. <img src="/docs/PROJECT/Devops/Building-VPC-EC2/33.png" alt="33" /></p><li><p>Select ‘Internet gateway’ on the selecting box under ‘Target’. and than, It is writ ‘igw-…’ into box, show igw ID you made just before on the list.<br /> <img src="/docs/PROJECT/Devops/Building-VPC-EC2/34-1.png" alt="34-1" /></p><li><p>It shows ‘igw-…’ on the box with ‘igw ID’ you made just before on the list. Click your ‘internet gateway ID’ on the list. and then, click ‘save changes’. <img src="/docs/PROJECT/Devops/Building-VPC-EC2/34-2.png" alt="34-2" /></p><li><p>Check ‘Edit subnet associations’ in one of Tap; ‘subnet associations’ under ‘Detail’ information box. after checking the message ‘Update for route for [route ID]/[route table name] on the top of the window.<br /> <img src="/docs/PROJECT/Devops/Building-VPC-EC2/35.png" alt="35" /></p><li><p>Select 2 public subnets on the ‘Available subnets’ list because this is for the public route table. and then, click ‘Save associations’ after done.<br /> <img src="/docs/PROJECT/Devops/Building-VPC-EC2/36.png" alt="36" /></p><li><p>Check the message ‘You have successfully updated subnet associations for [route table ID]/[route table name]’ on the top of the window. so now we made a public route table that any resource on the public subnets in this route table can communicate with outside internet. also, It can connect to public subnets from outside the internet.<br /> <img src="/docs/PROJECT/Devops/Building-VPC-EC2/37.png" alt="37" /></p><li><p>Click ‘Create route table’ in ‘Route tables’ section again. from now, you’ll make a private route table. it can request from private subnets to outside internet through NAT gateway but, It can’t connect from Outside internet to private subnets.<br /> <img src="/docs/PROJECT/Devops/Building-VPC-EC2/38.png" alt="38" /></p><li><p>Set information in ‘Create table’ section as the following next chart.</p></ol><div class="table-wrapper"><table><thead><tr><th style="text-align: left">Create route table<th style="text-align: left"> <tr><th style="text-align: left">Name - optional<th style="text-align: left">VPC<tbody><tr><td style="text-align: left">dev-pri-tb<td style="text-align: left">dev-vpc</table></div><div class="table-wrapper"><table><thead><tr><th style="text-align: left">Edit route<th style="text-align: left"> <tr><th style="text-align: left">Destination<th style="text-align: left">Target<tbody><tr><td style="text-align: left">0.0.0.0/0<td style="text-align: left">dev-ngw</table></div><div class="table-wrapper"><table><thead><tr><th style="text-align: left">Edit subnet association<th style="text-align: left"> <tbody><tr><td style="text-align: left">Available subnets<td style="text-align: left">dev-pri-a-sub<tr><td style="text-align: left"> <td style="text-align: left">dev-pri-c-sub</table></div><h2 id="ec2"> <a href="#ec2" class="anchor-heading" aria-labelledby="ec2"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> EC2</h2><p>Amazon Elastic Compute Cloud (Amazon EC2) is a web service that provides scalable computing capacity in the Amazon Web Services (AWS) cloud.</p><p>With this, you can launch and manage virtual servers (called instances) in the AWS cloud. Also, you have complete control over the instances you launch and can configure them to meet your needs. EC2 allows you to scale your computing resources up or down, as needed, by adding or removing instances.</p><p>Instances are assigned a unique public IP address and can also be assigned a public DNS name, making it easy to connect to them from the Internet.</p><p>You can use this to run a wide range of applications and services, including web applications, databases, analytics tools, and big data processing pipelines. These also support a variety of operating systems, so you can run the software you need for your application.</p><h3 id="instance"> <a href="#instance" class="anchor-heading" aria-labelledby="instance"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Instance</h3><h3 id="installing-gitlab-to-instance"> <a href="#installing-gitlab-to-instance" class="anchor-heading" aria-labelledby="installing-gitlab-to-instance"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Installing Gitlab to Instance</h3><h3 id="amis"> <a href="#amis" class="anchor-heading" aria-labelledby="amis"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> AMIs</h3><hr><footer><p><a href="#top" id="back-to-top">Back to top</a></p><p class="text-small text-grey-dk-100 mb-0">Copyright &copy; 2017-2020 Patrick Marsceill. Distributed by an <a href="https://github.com/just-the-docs/just-the-docs/tree/main/LICENSE.txt">MIT license.</a> <a href="https://www.netlify.com/">This site is powered by Netlify.</a></p><div class="d-flex mt-2"><p class="text-small text-grey-dk-000 mb-0"> <a href="https://github.com/just-the-docs/just-the-docs/tree/main/docs/PROJECT/Devops/Building-VPC-EC2/Building-VPC-EC2.md" id="edit-this-page">Edit this page on GitHub</a></p></div></footer></div></div><div class="search-overlay"></div></div><script> var config = {} ; mermaid.initialize(config); window.mermaid.init(undefined, document.querySelectorAll('.language-mermaid')); </script>
